name: CI
on:
  workflow_dispatch:
    inputs:
      stage:
        description: 'Target stage:'
        required: true
        default: 'dev'
        type: choice
        options:
          - dev
          - prod
      deploy:
        description: 'Deploy from this branch to the specified stage'
        type: boolean
        default: false
        required: true
#concurrency:
#  group: 
jobs:
  build:
    if: ${{ inputs.stage == 'dev' && inputs.deploy == true}}
    runs-on: ubuntu-latest
    steps:
      - run: nc -zv -w 1 google.com 443
  test:
    runs-on: ubuntu-latest
    steps:
      - run: echo ${{github.ref}}
